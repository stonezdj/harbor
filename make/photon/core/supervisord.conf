[supervisord]
nodaemon=true
logfile=/tmp/supervisord.log
logfile_maxbytes=50MB
logfile_backups=10
loglevel=debug
pidfile=/tmp/supervisord.pid

[program:core]
user=harbor
command=/harbor/entrypoint.sh
directory=/harbor/
stdout_logfile=/dev/stdout
stdout_logfile=/dev/stdout
environment=POSTGRESQL_HOST="localhost",_REDIS_URL_CORE=redis://localhost:6379?idle_timeout_seconds=30

[program:postgres]
user=postgres
command=/postgres-docker-entrypoint.sh 96 13
environment=POSTGRES_PASSWORD="root123"
stdout_logfile=/dev/stdout
stdout_logfile=/dev/stdout

[program:redis]
user=redis
command=redis-server /etc/redis.conf
directory=/var/lib/redis
stdout_logfile=/dev/stdout
stdout_logfile=/dev/stdout